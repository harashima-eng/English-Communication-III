<!DOCTYPE html>
<!-- English Communication III index (copy/paste ready) -->
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>English Communication IIIï½œIndex</title>
  <meta name="description" content="Breakdown of Reading Comprehension Questions â€“ English Communication III index with search, tags, and progress tracking.">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Ctext y='200' x='10' font-size='200'%3EðŸ“˜%3C/text%3E%3C/svg%3E">
  <!-- Tailwind (standalone, good for GH Pages) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'Segoe UI', 'Hiragino Kaku Gothic ProN', 'Meiryo', 'Apple Color Emoji', 'Noto Color Emoji', 'sans-serif'] },
          boxShadow: {
            soft: '0 10px 30px rgba(0,0,0,0.08)',
            softDark: '0 10px 30px rgba(0,0,0,0.35)',
          }
        }
      }
    }
  </script>
  <style>
    /* Smooth scroll & focus ring */
@@ -86,50 +87,59 @@

    <!-- Cards -->
    <section id="cards" class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></section>

    <!-- Footer -->
    <footer class="mt-10 pb-10 text-center text-xs text-slate-500 dark:text-slate-400">
      <p>Â© <span id="year"></span> English Communication III â€¢ Built for fast class navigation â€¢ <span class="whitespace-nowrap">JST</span></p>
      <p class="mt-1">Keyboard: <kbd class="px-1 rounded border">/</kbd> search â€¢ <kbd class="px-1 rounded border">T</kbd> theme</p>
    </footer>
  </main>

  <script>
    // ------------------------
    // Content registry (edit here)
    // ------------------------
    const lessons = [
      {
        id: 'ch13',
        title: 'Chapter 14 â€” Breakdown of Reading Comprehension Questions',
        href: 'chapter_14.html',
        date: '2025-11-15',
        tags: ['Reading', 'Comprehension', 'Exam Skills', 'Analysis'],
        keywords: 'Chapter 13 reading comprehension breakdown questions test exam analysis',
        minutes: 12
      },
      {
        id: 'ch15',
        title: 'Chapter 15 â€” Rewards for Kids (Reading Breakdown)',
        href: 'Chapter_15_Reading_Breakdown.html',
        date: '2025-11-22',
        tags: ['Reading', 'Motivation', 'Rewards', 'Analysis'],
        keywords: 'Chapter 15 reading breakdown rewards for kids motivation analysis',
        minutes: 15
      },
      // Add more chapters like below:
      // { id:'ch12', title:'Chapter 12 â€” Inference & Tone', href:'chapter_12.html', date:'2025-11-08', tags:['Reading','Inference'], keywords:'inference tone nuance', minutes:10 },
    ];

    const allTags = [...new Set(lessons.flatMap(l => l.tags))].sort();

    // ------------------------
    // Utilities
    // ------------------------
    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => [...el.querySelectorAll(s)];
    const fmtDate = (iso) => new Date(iso + 'T00:00:00').toLocaleDateString('ja-JP', { year:'numeric', month:'short', day:'numeric', timeZone:'Asia/Tokyo' });
    const storage = {
      get(k, v=null){ try { return JSON.parse(localStorage.getItem(k)) ?? v } catch { return v } },
      set(k, v){ localStorage.setItem(k, JSON.stringify(v)) }
    };

    // Theme
    const THEME_KEY = 'eci3.theme';
    function applyTheme(mode){
      const root = document.documentElement;
      if(mode === 'dark' || (mode === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)){
        root.classList.add('dark');
      } else {
        root.classList.remove('dark');
